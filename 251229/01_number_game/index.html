<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
</head>
<body>
  <h2>숫자 맞추기 게임</h2>
  <p>이 게임은 컴퓨터가 생성한 숫자를 맞추는 게임입니다. 
    숫자는 1부터 100 사이에 있습니다.</p>
  <form>
    숫자:
    <input type="text" id="user" size="5">
    <input type="button" value="확인" onclick="numberGame()">
    <input type="text" id="guessCount" size="5" style="width: 150px" placeholder="남은 횟수">
    힌트:
    <input type="text" id="result" size="16" style="width:300px;" placeholder="힌트가 여기에 표시될거야!">
    <input type="button" value="게임 초기화" onclick="gameReset()">
    <p id='showNumber' style="color:gray;"></p>

  </form>
  <script>

    var ranNum=Math.floor(Math.random()*100)+1;
    // 필드에다 random함수를 두는 이유는 함수가 실행될때 딱 한번만 바꿔주고 고정시켜서 정답을 맞출 수 있게 하기위함.
    var count=5;
    const showNum=document.getElementById('showNumber'); // 디버깅 숫자
    function numberGame()
    // reset() 함수이름은 기본 함수와 겹칠수가 있다. 다른 이름으로 해줄것.
    {
      // .textContent()/.ineerHTML(): 일반적으로 태그에 값을 넣어줄때 사용한다.
      // .value  form 요소에서 사용한다. <input>, <textarea>, <select> 등에 사용.
        const hint=document.getElementById('result');
        const counter=document.getElementById('guessCount');

        var userInput = Number(document.getElementById('user').value);
        var msg="";
        if(count<=0)
        {
          document.getElementById('result').value = "게임이 종료되었습니다. 초기화 버튼을 눌러주세요.";
          return;
        }
        else
        {
          if(userInput === ranNum)
          {
            msg="정답이야! UwU 맞춰버렸네!";
                    count-=1;
          }
          else if(userInput < ranNum)
          {
            msg="으음... 숫자가 좀 작은것같아!";
                    count-=1;
          }
          else if(userInput > ranNum)
          {
            msg="너무 높게 예상했어! 조금만 더 줄여봐 OwO";
                    count-=1;
          }
          else
          {
            msg="제대로 된 값을 입력해줘 =w=";
          }
          counter.value = '남은 횟수: '+count;
          hint.value = msg;
      }
      showNum.textContent = '디버깅 숫자: '+ranNum; // <p>태그는 innerHTML 또는 textContent 를 사용해야 한다.
    }
    function gameReset()
    {
      const hint=document.getElementById('result');
      const counter=document.getElementById('guessCount');
      showNum.textContent="";
      count=5;
      ranNum=Math.floor(Math.random()*100)+1;
      counter.value="남은 횟수: "+count;
      hint.value="";
      document.getElementById('user').value="";
      alert("게임이 초기화 되었어! 다시 맞춰보자 UwU");

    }
  </script>
</body>
</html>